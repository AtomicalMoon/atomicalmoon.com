<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Commissions - AtomicalMoon</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #eeedeb;
            --bg-warm: #e8e7e4;
            --bg-card: #f5f4f2;
            --bg-vanilla: #e3e2de;
            --border: rgba(140, 138, 130, 0.22);
            --border-hover: rgba(140, 138, 130, 0.4);
            --text-primary: #433e38;
            --text-secondary: #555450;
            --text-muted: #8a8880;
            --vanilla: #cecdca;
            --vanilla-dark: #a5a49c;
            --warm-white: #f3f2f0;
        }

        body.dark {
            --bg: #111113;
            --bg-warm: #161618;
            --bg-card: #1c1c1f;
            --bg-vanilla: #1a1a1d;
            --border: rgba(255, 60, 60, 0.1);
            --border-hover: rgba(255, 60, 60, 0.25);
            --text-primary: #e84040;
            --text-secondary: #b83030;
            --text-muted: #6e3030;
            --vanilla: #2a1a1a;
            --vanilla-dark: #8b3030;
            --warm-white: #0e0e10;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        img { max-width: 100%; height: auto; }
        html { scroll-behavior: smooth; overflow-x: hidden; }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;
            background: var(--bg);
            color: var(--text-primary);
            line-height: 1.7;
            font-weight: 500;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* STATUS COLORS */
        .status-open { color: #16a34a !important; }
        .status-closed { color: #dc2626 !important; }
        .status-full { color: #d97706 !important; }
        .status-waitlist { color: #2563eb !important; }
        .status-paused { color: #7c3aed !important; }
        .status-slots { color: #0891b2 !important; }
        body.dark .status-open { color: #4ade80 !important; }
        body.dark .status-closed { color: #f87171 !important; }
        body.dark .status-full { color: #fbbf24 !important; }
        body.dark .status-waitlist { color: #60a5fa !important; }
        body.dark .status-paused { color: #a78bfa !important; }
        body.dark .status-slots { color: #22d3ee !important; }

        /* TOP BAR */
        .top-bar {
            position: sticky;
            top: 0;
            z-index: 100;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: var(--bg);
            border-bottom: 1px solid var(--border);
        }

        .top-bar a {
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 700;
            font-size: 0.82rem;
            text-transform: uppercase;
            letter-spacing: 0.03em;
            transition: color 0.3s;
        }

        .top-bar a:hover { color: var(--text-primary); }

        .top-bar h1 {
            font-weight: 900;
            font-size: 1.2rem;
            text-transform: uppercase;
            letter-spacing: -0.02em;
        }

        /* DARK TOGGLE */
        .dark-toggle {
            position: fixed;
            bottom: 1.5rem;
            right: 1.5rem;
            z-index: 1001;
            width: 44px;
            height: 44px;
            border-radius: 50%;
            border: 1px solid var(--border);
            background: var(--bg-card);
            color: var(--text-secondary);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.15rem;
            box-shadow: 0 2px 16px rgba(0,0,0,0.08);
            transition: all 0.35s ease;
        }

        .dark-toggle:hover { transform: scale(1.1); }

        /* ===== HERO BANNER ===== */
        .comm-hero {
            text-align: center;
            padding: 4rem 2rem 3rem;
            background: var(--bg-warm);
            border-bottom: 1px solid var(--border);
        }

        .comm-hero-label {
            font-size: 0.7rem;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 0.18em;
            color: var(--vanilla-dark);
            margin-bottom: 0.6rem;
        }

        .comm-hero h2 {
            font-size: 2.2rem;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: -0.03em;
            margin-bottom: 0.6rem;
        }

        .comm-hero p {
            color: var(--text-secondary);
            font-size: 0.92rem;
            font-weight: 500;
            max-width: 420px;
            margin: 0 auto 1.8rem;
        }

        /* Status pill in hero */
        .status-pill {
            display: inline-flex;
            align-items: center;
            gap: 0.6rem;
            padding: 0.55rem 1.4rem;
            border-radius: 100px;
            background: var(--bg-card);
            border: 1px solid var(--border);
        }

        .status-pill .pill-label {
            font-size: 0.78rem;
            color: var(--text-muted);
            font-weight: 600;
        }

        .status-pill .pill-value {
            font-weight: 900;
            font-size: 0.85rem;
            letter-spacing: 0.05em;
        }

        /* JUMP NAV */
        .jump-nav {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            flex-wrap: wrap;
            margin-top: 1.5rem;
        }

        .jump-nav a {
            padding: 0.35rem 0.9rem;
            border-radius: 100px;
            background: var(--bg-card);
            border: 1px solid var(--border);
            text-decoration: none;
            font-size: 0.72rem;
            font-weight: 700;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.03em;
            transition: all 0.25s;
        }

        .jump-nav a:hover {
            border-color: var(--border-hover);
            color: var(--text-primary);
        }

        /* ===== SECTION LAYOUT ===== */
        .page-section {
            padding: 4rem 2rem;
            max-width: 900px;
            margin: 0 auto;
        }

        .page-section + .page-section {
            padding-top: 0;
        }

        .section-divider {
            max-width: 900px;
            margin: 0 auto;
            height: 1px;
            background: linear-gradient(to right, transparent, var(--vanilla), transparent);
        }

        .section-head {
            margin-bottom: 2rem;
        }

        .section-head h3 {
            font-size: 1.4rem;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: -0.02em;
            margin-bottom: 0.3rem;
        }

        .section-head p {
            font-size: 0.85rem;
            color: var(--text-muted);
            font-weight: 500;
        }

        /* ===== PRICING TIERS ===== */
        .tiers {
            display: flex;
            flex-direction: column;
            gap: 1.2rem;
        }

        .tier-card {
            border-radius: 16px;
            background: var(--bg-card);
            border: 1px solid var(--border);
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .tier-card:hover {
            border-color: var(--border-hover);
            box-shadow: 0 4px 20px rgba(0,0,0,0.04);
        }

        body.dark .tier-card:hover {
            box-shadow: 0 4px 20px rgba(200, 40, 40, 0.06);
        }

        .tier-header {
            padding: 1.4rem 1.6rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            cursor: pointer;
            -webkit-user-select: none;
            user-select: none;
        }

        .tier-icon {
            width: 44px;
            height: 44px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--bg-vanilla);
            border: 1px solid var(--border);
            font-size: 1.2rem;
            flex-shrink: 0;
        }

        .tier-header-text { flex: 1; }

        .tier-header-text h4 {
            font-weight: 800;
            font-size: 1rem;
            text-transform: uppercase;
            letter-spacing: -0.01em;
        }

        .tier-header-text p {
            font-size: 0.78rem;
            color: var(--text-muted);
            font-weight: 500;
        }

        .tier-toggle {
            font-size: 1.2rem;
            color: var(--text-muted);
            transition: transform 0.3s;
            flex-shrink: 0;
            font-weight: 700;
        }

        .tier-card.open .tier-toggle {
            transform: rotate(180deg);
        }

        .tier-body {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease;
        }

        .tier-card.open .tier-body {
            max-height: 1200px;
        }

        .tier-prices {
            padding: 0 1.6rem 1.4rem;
            display: flex;
            flex-direction: column;
            gap: 0.6rem;
        }

        .tier-price-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem 1rem;
            border-radius: 10px;
            background: var(--bg-vanilla);
            border: 1px solid var(--border);
        }

        .tier-price-info h5 {
            font-weight: 700;
            font-size: 0.85rem;
        }

        .tier-price-info p {
            font-size: 0.72rem;
            color: var(--text-muted);
            font-weight: 500;
        }

        .tier-price-amount {
            font-weight: 900;
            font-size: 1.1rem;
            white-space: nowrap;
        }

        .tier-note {
            padding: 0 1.6rem 1.4rem;
            font-size: 0.72rem;
            color: var(--text-muted);
            font-weight: 600;
            font-style: italic;
        }

        /* TIER EXAMPLES & STYLES */
        .tier-examples,
        .tier-styles {
            padding: 0 1.6rem 1rem;
        }

        .tier-sub-label {
            font-size: 0.68rem;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 0.12em;
            color: var(--vanilla-dark);
            margin-bottom: 0.6rem;
        }

        .tier-image-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 0.6rem;
        }

        .tier-image-card {
            border-radius: 10px;
            overflow: hidden;
            border: 1px solid var(--border);
            background: var(--bg-vanilla);
            position: relative;
            transition: all 0.3s ease;
            -webkit-user-select: none;
            user-select: none;
            -webkit-touch-callout: none;
            cursor: pointer;
        }

        .tier-image-card:hover {
            border-color: var(--border-hover);
            transform: translateY(-2px);
            box-shadow: 0 6px 18px rgba(0,0,0,0.06);
        }

        body.dark .tier-image-card:hover {
            box-shadow: 0 6px 18px rgba(200, 40, 40, 0.06);
        }

        .tier-image-card img {
            width: 100%;
            display: block;
            aspect-ratio: 1;
            object-fit: cover;
            -webkit-user-drag: none;
            user-drag: none;
            pointer-events: none;
        }

        .tier-image-card::after {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            z-index: 1;
        }

        .tier-image-card-label {
            padding: 0.45rem 0.6rem;
            font-size: 0.65rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.03em;
            color: var(--text-muted);
            text-align: center;
            border-top: 1px solid var(--border);
            position: relative;
            z-index: 2;
        }

        .tier-styles-divider {
            height: 1px;
            background: var(--vanilla);
            margin: 0.5rem 1.6rem 1rem;
        }

        /* ===== PROCESS STEPS ===== */
        .process-steps {
            display: flex;
            flex-direction: column;
            gap: 0;
            position: relative;
        }

        .process-steps::before {
            content: '';
            position: absolute;
            left: 22px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: var(--vanilla);
        }

        .step {
            display: flex;
            gap: 1.2rem;
            align-items: flex-start;
            padding: 1rem 0;
            position: relative;
        }

        .step-num {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            background: var(--bg-card);
            border: 2px solid var(--vanilla);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 900;
            font-size: 0.85rem;
            flex-shrink: 0;
            z-index: 1;
        }

        .step-content h5 {
            font-weight: 800;
            font-size: 0.92rem;
            text-transform: uppercase;
            letter-spacing: 0.01em;
        }

        .step-content p {
            font-size: 0.82rem;
            color: var(--text-secondary);
            font-weight: 500;
        }

        /* ===== COMMISSION SHEETS ===== */
        .sheets-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1rem;
        }

        .sheet-card {
            border-radius: 14px;
            overflow: hidden;
            border: 1px solid var(--border);
            background: var(--bg-card);
            position: relative;
            transition: all 0.3s ease;
            -webkit-user-select: none;
            user-select: none;
            -webkit-touch-callout: none;
        }

        .sheet-card:hover {
            border-color: var(--border-hover);
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(0,0,0,0.06);
        }

        .sheet-card img {
            width: 100%;
            display: block;
            -webkit-user-drag: none;
            user-drag: none;
            pointer-events: none;
        }

        .sheet-card::after {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            z-index: 1;
        }

        .sheet-card-label {
            padding: 0.8rem 1rem;
            font-size: 0.78rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.03em;
            color: var(--text-secondary);
            border-top: 1px solid var(--border);
            position: relative;
            z-index: 2;
        }

        /* ===== TERMS ===== */
        .terms-list {
            display: flex;
            flex-direction: column;
            gap: 0.6rem;
            counter-reset: term;
        }

        .term-item {
            display: flex;
            gap: 0.8rem;
            align-items: flex-start;
            padding: 0.9rem 1.2rem;
            border-radius: 12px;
            background: var(--bg-card);
            border: 1px solid var(--border);
            counter-increment: term;
        }

        .term-item::before {
            content: counter(term) ".";
            font-weight: 900;
            font-size: 0.78rem;
            color: var(--vanilla-dark);
            flex-shrink: 0;
            min-width: 1.4rem;
        }

        .term-item p {
            font-size: 0.85rem;
            color: var(--text-secondary);
            font-weight: 500;
        }

        /* ===== CTA ===== */
        .cta-section {
            text-align: center;
            padding: 3.5rem 2rem;
            background: var(--bg-warm);
            border-top: 1px solid var(--border);
        }

        .cta-section h3 {
            font-size: 1.3rem;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: -0.02em;
            margin-bottom: 0.5rem;
        }

        .cta-section p {
            font-size: 0.85rem;
            color: var(--text-muted);
            font-weight: 500;
            margin-bottom: 1.5rem;
        }

        .cta-links {
            display: flex;
            gap: 0.8rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .cta-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.6rem;
            padding: 0.7rem 1.5rem;
            border-radius: 100px;
            text-decoration: none;
            font-weight: 800;
            font-size: 0.82rem;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.03em;
        }

        .cta-btn-primary {
            background: #3e3d38;
            color: #eeedeb;
            box-shadow: 0 2px 12px rgba(62, 61, 56, 0.18);
        }

        .cta-btn-primary:hover {
            transform: translateY(-2px);
            background: #32312c;
            box-shadow: 0 6px 24px rgba(62, 61, 56, 0.26);
        }

        body.dark .cta-btn-primary {
            background: #cc3333;
            color: #fff;
        }

        body.dark .cta-btn-primary:hover {
            background: #b82e2e;
        }

        .cta-btn-soft {
            background: var(--bg-card);
            color: var(--text-secondary);
            border: 1px solid var(--border);
        }

        .cta-btn-soft:hover {
            border-color: var(--border-hover);
            color: var(--text-primary);
        }

        .cta-btn svg {
            width: 18px;
            height: 18px;
            fill: currentColor;
        }

        /* ===== FOOTER ===== */
        footer {
            text-align: center;
            padding: 2rem;
            border-top: 1px solid var(--border);
            background: var(--warm-white);
        }

        body.dark footer {
            background: var(--warm-white);
            border-top-color: rgba(255, 60, 60, 0.08);
        }

        footer p {
            font-size: 0.72rem;
            color: var(--text-muted);
            font-weight: 600;
        }

        footer a {
            color: var(--text-secondary);
            text-decoration: none;
            transition: color 0.3s;
        }

        footer a:hover { color: var(--text-primary); }

        /* LOADING */
        .loading-placeholder {
            color: var(--text-muted);
            font-size: 0.85rem;
            font-weight: 600;
            text-align: center;
            padding: 2rem;
        }

        /* ===== RESPONSIVE ===== */
        @media (max-width: 768px) {
            .top-bar { padding: 0.8rem 1rem; }
            .comm-hero { padding: 3rem 1.2rem 2.5rem; }
            .comm-hero h2 { font-size: 1.6rem; }
            .page-section { padding: 3rem 1.2rem; }
            .section-head h3 { font-size: 1.2rem; }
            .tier-header { padding: 1.1rem 1.2rem; }
            .tier-prices { padding: 0 1.2rem 1.2rem; }
            .tier-price-row { flex-direction: column; align-items: flex-start; gap: 0.3rem; }
            .tier-note { padding: 0 1.2rem 1.2rem; }
            .tier-examples, .tier-styles { padding: 0 1.2rem 1rem; }
            .tier-image-grid { grid-template-columns: repeat(3, 1fr); gap: 0.5rem; }
            .tier-styles-divider { margin: 0.5rem 1.2rem 1rem; }
            .sheets-grid { grid-template-columns: 1fr; }
            .cta-section { padding: 2.5rem 1.2rem; }
            .cta-links { flex-direction: column; align-items: center; }
            .cta-btn { width: 100%; max-width: 280px; justify-content: center; }
            .dark-toggle { bottom: 1rem; right: 1rem; width: 40px; height: 40px; font-size: 1rem; }
        }

        @media (max-width: 380px) {
            .comm-hero h2 { font-size: 1.3rem; }
            .step { gap: 0.8rem; }
            .step-num { width: 36px; height: 36px; font-size: 0.75rem; }
            .process-steps::before { left: 17px; }
        }
    </style>
</head>
<body>

    <div class="top-bar">
        <a href="index.html">&larr; Back</a>
        <h1>Commissions</h1>
        <span></span>
    </div>

    <!-- HERO -->
    <div class="comm-hero">
        <p class="comm-hero-label">Commission Info</p>
        <h2>Work With Me</h2>
        <p>Custom models, textures, and renders — built to your vision in Blockbench.</p>

        <div class="status-pill">
            <span class="pill-label">Status:</span>
            <span class="pill-value" id="status-text">Loading...</span>
        </div>

        <div class="jump-nav">
            <a href="#pricing">Pricing</a>
            <a href="#process">Process</a>
            <a href="#sheets">Sheets</a>
            <a href="#terms">Terms</a>
        </div>
    </div>

    <!-- PRICING -->
    <div class="page-section" id="pricing">
        <div class="section-head">
            <h3>Pricing</h3>
            <p>Click a category to see prices. All prices are starting points — complex work may cost more.</p>
        </div>
        <div class="tiers" id="tiers-container">
            <p class="loading-placeholder">Loading pricing...</p>
        </div>
    </div>

    <div class="section-divider"></div>

    <!-- PROCESS -->
    <div class="page-section" id="process">
        <div class="section-head">
            <h3>How It Works</h3>
            <p>From first message to final delivery.</p>
        </div>
        <div class="process-steps" id="process-container">
            <p class="loading-placeholder">Loading process...</p>
        </div>
    </div>

    <div class="section-divider"></div>

    <!-- COMMISSION SHEETS -->
    <div class="page-section" id="sheets">
        <div class="section-head">
            <h3>Commission Sheets</h3>
            <p>Visual breakdowns of what I offer and at what price.</p>
        </div>
        <div class="sheets-grid" id="sheets-grid">
            <!-- Populated from sheets.json or manually add here -->
        </div>
    </div>

    <div class="section-divider"></div>

    <!-- TERMS -->
    <div class="page-section" id="terms">
        <div class="section-head">
            <h3>Terms of Service</h3>
            <p>Please read before commissioning.</p>
        </div>
        <div class="terms-list" id="terms-container">
            <p class="loading-placeholder">Loading terms...</p>
        </div>
    </div>

    <!-- CTA -->
    <div class="cta-section">
        <h3>Ready to Commission?</h3>
        <p>Send me a DM with your idea and let's get started.</p>
        <div class="cta-links">
            <a href="https://discord.com/users/YOUR_DISCORD_ID" class="cta-btn cta-btn-primary" target="_blank" rel="noopener">
                <svg viewBox="0 0 24 24"><path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.095 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.095 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"/></svg>
                DM on Discord
            </a>
            <a href="https://twitter.com/AtomicalMoon" class="cta-btn cta-btn-soft" target="_blank" rel="noopener">
                <svg viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
                DM on X
            </a>
        </div>
    </div>

    <!-- FOOTER -->
    <footer>
        <p>&copy; <span id="year"></span> <a href="index.html">AtomicalMoon</a>. All rights reserved.</p>
    </footer>

    <button class="dark-toggle" id="dark-toggle" aria-label="Toggle dark mode">
        <span id="toggle-icon">&#9790;</span>
    </button>

    <script>
        // Dark mode
        var toggleBtn = document.getElementById('dark-toggle');
        var toggleIcon = document.getElementById('toggle-icon');
        var isDark = localStorage.getItem('atomicalmoon-dark') === 'true';

        function setDark(on) {
            document.body.classList.toggle('dark', on);
            toggleIcon.innerHTML = on ? '&#9788;' : '&#9790;';
            localStorage.setItem('atomicalmoon-dark', on ? 'true' : 'false');
            isDark = on;
        }
        setDark(isDark);
        toggleBtn.addEventListener('click', function() { setDark(!isDark); });

        // Year
        document.getElementById('year').textContent = new Date().getFullYear();

        // Load commission status
        fetch('config/commission-status.json?v=' + Date.now())
            .then(function(r) { return r.json(); })
            .then(function(data) {
                var el = document.getElementById('status-text');
                var status = data.status || 'closed';
                el.textContent = status.toUpperCase();
                var classMap = {
                    open: 'status-open', closed: 'status-closed', full: 'status-full',
                    waitlist: 'status-waitlist', paused: 'status-paused'
                };
                if (classMap[status]) el.classList.add(classMap[status]);
                else if (status.toLowerCase().indexOf('slot') !== -1) el.classList.add('status-slots');
            })
            .catch(function() {
                document.getElementById('status-text').textContent = 'UNAVAILABLE';
            });

        // Load commission data (pricing, process, terms)
        fetch('config/commissions.json?v=' + Date.now())
            .then(function(r) { return r.json(); })
            .then(function(data) {
                var currency = data.currency || '$';

                // PRICING TIERS
                var tiersEl = document.getElementById('tiers-container');
                tiersEl.innerHTML = '';
                (data.tiers || []).forEach(function(tier, i) {
                    var card = document.createElement('div');
                    card.className = 'tier-card' + (i === 0 ? ' open' : '');

                    var header = document.createElement('div');
                    header.className = 'tier-header';
                    header.innerHTML =
                        '<div class="tier-icon">' + (tier.icon || '&#9632;') + '</div>' +
                        '<div class="tier-header-text"><h4>' + tier.name + '</h4><p>' + tier.description + '</p></div>' +
                        '<span class="tier-toggle">&#9662;</span>';

                    header.addEventListener('click', function() {
                        card.classList.toggle('open');
                    });

                    var body = document.createElement('div');
                    body.className = 'tier-body';

                    // Examples section (if present)
                    if (tier.examples && tier.examples.length > 0) {
                        var examplesWrap = document.createElement('div');
                        examplesWrap.className = 'tier-examples';
                        var exLabel = document.createElement('div');
                        exLabel.className = 'tier-sub-label';
                        exLabel.textContent = 'Examples';
                        examplesWrap.appendChild(exLabel);

                        var exGrid = document.createElement('div');
                        exGrid.className = 'tier-image-grid';
                        tier.examples.forEach(function(ex) {
                            var exCard = document.createElement('div');
                            exCard.className = 'tier-image-card';
                            var exImg = document.createElement('img');
                            exImg.src = ex.image;
                            exImg.alt = ex.label || '';
                            exImg.loading = 'lazy';
                            exCard.appendChild(exImg);
                            if (ex.label) {
                                var exLbl = document.createElement('div');
                                exLbl.className = 'tier-image-card-label';
                                exLbl.textContent = ex.label;
                                exCard.appendChild(exLbl);
                            }
                            (function(src) {
                                exCard.addEventListener('click', function() {
                                    document.getElementById('lightbox-img').src = src;
                                    document.getElementById('lightbox').classList.add('open');
                                });
                            })(ex.image);
                            exGrid.appendChild(exCard);
                        });
                        examplesWrap.appendChild(exGrid);
                        body.appendChild(examplesWrap);
                    }

                    // Styles section (if present)
                    if (tier.styles && tier.styles.length > 0) {
                        var divider = document.createElement('div');
                        divider.className = 'tier-styles-divider';
                        body.appendChild(divider);

                        var stylesWrap = document.createElement('div');
                        stylesWrap.className = 'tier-styles';
                        var stLabel = document.createElement('div');
                        stLabel.className = 'tier-sub-label';
                        stLabel.textContent = 'Render Styles';
                        stylesWrap.appendChild(stLabel);

                        var stGrid = document.createElement('div');
                        stGrid.className = 'tier-image-grid';
                        tier.styles.forEach(function(st) {
                            var stCard = document.createElement('div');
                            stCard.className = 'tier-image-card';
                            var stImg = document.createElement('img');
                            stImg.src = st.image;
                            stImg.alt = st.label || '';
                            stImg.loading = 'lazy';
                            stCard.appendChild(stImg);
                            if (st.label) {
                                var stLbl = document.createElement('div');
                                stLbl.className = 'tier-image-card-label';
                                stLbl.textContent = st.label;
                                stCard.appendChild(stLbl);
                            }
                            (function(src) {
                                stCard.addEventListener('click', function() {
                                    document.getElementById('lightbox-img').src = src;
                                    document.getElementById('lightbox').classList.add('open');
                                });
                            })(st.image);
                            stGrid.appendChild(stCard);
                        });
                        stylesWrap.appendChild(stGrid);
                        body.appendChild(stylesWrap);

                        // Divider before prices
                        var divider2 = document.createElement('div');
                        divider2.className = 'tier-styles-divider';
                        body.appendChild(divider2);
                    }

                    var prices = document.createElement('div');
                    prices.className = 'tier-prices';
                    (tier.prices || []).forEach(function(p) {
                        var row = document.createElement('div');
                        row.className = 'tier-price-row';
                        row.innerHTML =
                            '<div class="tier-price-info"><h5>' + p.label + '</h5><p>' + p.detail + '</p></div>' +
                            '<span class="tier-price-amount">' + currency + p.price + '+</span>';
                        prices.appendChild(row);
                    });

                    body.appendChild(prices);

                    var note = document.createElement('div');
                    note.className = 'tier-note';
                    note.textContent = 'Prices are starting points and may increase with complexity.';
                    body.appendChild(note);

                    card.appendChild(header);
                    card.appendChild(body);
                    tiersEl.appendChild(card);
                });

                // PROCESS
                var processEl = document.getElementById('process-container');
                processEl.innerHTML = '';
                (data.process || []).forEach(function(s) {
                    var step = document.createElement('div');
                    step.className = 'step';
                    step.innerHTML =
                        '<div class="step-num">' + s.step + '</div>' +
                        '<div class="step-content"><h5>' + s.title + '</h5><p>' + s.detail + '</p></div>';
                    processEl.appendChild(step);
                });

                // TERMS
                var termsEl = document.getElementById('terms-container');
                termsEl.innerHTML = '';
                (data.terms || []).forEach(function(t) {
                    var item = document.createElement('div');
                    item.className = 'term-item';
                    item.innerHTML = '<p>' + t + '</p>';
                    termsEl.appendChild(item);
                });
            })
            .catch(function() {
                document.getElementById('tiers-container').innerHTML = '<p class="loading-placeholder">Could not load pricing data.</p>';
                document.getElementById('process-container').innerHTML = '<p class="loading-placeholder">Could not load process data.</p>';
                document.getElementById('terms-container').innerHTML = '<p class="loading-placeholder">Could not load terms data.</p>';
            });

        // Load commission sheets
        fetch('config/commission-sheets.json?v=' + Date.now())
            .then(function(r) { return r.json(); })
            .then(function(sheets) {
                var grid = document.getElementById('sheets-grid');
                grid.innerHTML = '';
                (sheets || []).forEach(function(sheet) {
                    var card = document.createElement('div');
                    card.className = 'sheet-card';

                    var img = document.createElement('img');
                    img.src = sheet.image;
                    img.alt = sheet.label || 'Commission Sheet';
                    img.loading = 'lazy';

                    var label = document.createElement('div');
                    label.className = 'sheet-card-label';
                    label.textContent = sheet.label || 'Sheet';

                    card.appendChild(img);
                    card.appendChild(label);
                    grid.appendChild(card);

                    // Lightbox on click
                    card.addEventListener('click', function() {
                        var lb = document.getElementById('lightbox');
                        document.getElementById('lightbox-img').src = sheet.image;
                        lb.classList.add('open');
                    });
                });
            })
            .catch(function() {
                document.getElementById('sheets-grid').innerHTML = '<p class="loading-placeholder">No commission sheets found. Add sheets to config/commission-sheets.json.</p>';
            });

        // Image protection
        document.addEventListener('contextmenu', function(e) {
            if (e.target.closest('.sheet-card') || e.target.closest('.tier-image-card') || e.target.closest('.lightbox') || e.target.tagName === 'IMG') {
                e.preventDefault();
            }
        });

        document.addEventListener('dragstart', function(e) {
            if (e.target.tagName === 'IMG') e.preventDefault();
        });
    </script>

    <!-- Lightbox for sheets -->
    <div class="lightbox" id="lightbox" style="display:none;position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.92);z-index:2000;align-items:center;justify-content:center;cursor:pointer;">
        <div style="position:absolute;top:1.5rem;right:1.5rem;color:#fff;font-size:1.5rem;font-weight:900;cursor:pointer;width:40px;height:40px;display:flex;align-items:center;justify-content:center;border-radius:50%;background:rgba(255,255,255,0.1);z-index:10;" id="lightbox-close">&times;</div>
        <img id="lightbox-img" src="" alt="" style="max-width:90vw;max-height:90vh;object-fit:contain;border-radius:8px;-webkit-user-drag:none;pointer-events:none;">
    </div>

    <script>
        document.getElementById('lightbox').addEventListener('click', function(e) {
            if (e.target === this || e.target.id === 'lightbox-close') {
                this.style.display = 'none';
                this.classList.remove('open');
            }
        });
        // Patch: show lightbox properly
        var lbObs = new MutationObserver(function(mutations) {
            mutations.forEach(function(m) {
                if (m.target.classList.contains('open')) {
                    m.target.style.display = 'flex';
                }
            });
        });
        lbObs.observe(document.getElementById('lightbox'), { attributes: true, attributeFilter: ['class'] });

        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                var lb = document.getElementById('lightbox');
                lb.style.display = 'none';
                lb.classList.remove('open');
            }
        });
    </script>
</body>
</html>
